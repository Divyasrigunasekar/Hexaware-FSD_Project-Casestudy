<div class="container mt-4">
  <h3>Update Route</h3>

  <form #routeForm="ngForm" (ngSubmit)="updateRoute(routeForm)">
    <!-- Bus ID -->
<div class="mb-3">
  <label for="busId" class="form-label">Bus ID</label>
  <input
    type="number"
    id="busId"
    name="busId"
    class="form-control"
    [(ngModel)]="route.busId"
    required
    min="1"
    #busId="ngModel"
  />
  <div *ngIf="busId.invalid && busId.touched" class="text-danger">
    Bus ID is required and must be positive.
  </div>
</div>


    <!-- Origin -->
    <div class="mb-3">
      <label for="origin" class="form-label">Origin</label>
      <input
        type="text"
        id="origin"
        name="origin"
        class="form-control"
        [(ngModel)]="route.origin"
        required
        minlength="2"
        #origin="ngModel"
      />
      <div *ngIf="origin.invalid && origin.touched" class="text-danger">
        Origin is required (min 2 characters).
      </div>
    </div>

    <!-- Destination -->
    <div class="mb-3">
      <label for="destination" class="form-label">Destination</label>
      <input
        type="text"
        id="destination"
        name="destination"
        class="form-control"
        [(ngModel)]="route.destination"
        required
        minlength="2"
        #destination="ngModel"
      />
      <div *ngIf="destination.invalid && destination.touched" class="text-danger">
        Destination is required (min 2 characters).
      </div>
    </div>

    <!-- Departure Time -->
    <div class="mb-3">
      <label for="departureTime" class="form-label">Departure Time</label>
      <input
        type="datetime-local"
        id="departureTime"
        name="departureTime"
        class="form-control"
        [(ngModel)]="route.departureTime"
        required
        #departureTime="ngModel"
      />
      <div *ngIf="departureTime.invalid && departureTime.touched" class="text-danger">
        Departure time is required.
      </div>
    </div>

    <!-- Arrival Time -->
    <div class="mb-3">
      <label for="arrivalTime" class="form-label">Arrival Time</label>
      <input
        type="datetime-local"
        id="arrivalTime"
        name="arrivalTime"
        class="form-control"
        [(ngModel)]="route.arrivalTime"
        required
        #arrivalTime="ngModel"
      />
      <div *ngIf="arrivalTime.invalid && arrivalTime.touched" class="text-danger">
        Arrival time is required.
      </div>
    </div>

    <!-- Fare -->
    <div class="mb-3">
      <label for="fare" class="form-label">Fare (â‚¹)</label>
      <input
        type="number"
        id="fare"
        name="fare"
        class="form-control"
        [(ngModel)]="route.fare"
        required
        min="0"
        #fare="ngModel"
      />
      <div *ngIf="fare.invalid && fare.touched" class="text-danger">
        Fare is required and must be a non-negative value.
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="routeForm.invalid">
      Update Route
    </button>
    <button type="button" class="btn btn-secondary ms-2" (click)="goToList()">
      Cancel
    </button>
  </form>
</div>
